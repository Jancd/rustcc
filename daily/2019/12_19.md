### Tokio v0.2.5 ç‰ˆæœ¬æ›´æ–°

Includes new APIs, utilities, and fixes. Some highlights:

>**tokio::sync::broadcast**

>**tokio::sync::Semaphore**

A multi-producer, multi-consumer channel where each sent value is sent to all consumers (fan-out). The channel is bounded and when consumers lag, they will receive an error indicating they have lagged too far behind.

example 1:

```rust
use tokio::sync::broadcast;

#[tokio::main]
async fn main() {
    let (tx, mut rx1) = broadcast::channel(16);
    let mut rx2 = tx.subscribe();

    tokio::spawn(async move {
        assert_eq!(rx1.recv().await.unwrap(), 10);
        assert_eq!(rx1.recv().await.unwrap(), 20);
    });

    tokio::spawn(async move {
        assert_eq!(rx2.recv().await.unwrap(), 10);
        assert_eq!(rx2.recv().await.unwrap(), 20);
    });

    tx.send(10).unwrap();
    tx.send(20).unwrap();
}
```

### tokio-compat 0.1.1ç‰ˆæœ¬å‘å¸ƒ

Tokio 0.2 ä½¿ç”¨ `std::future` å’Œ `async/await` ä½¿å¾— Tokio ç¼–å†™å¼‚æ­¥ä»£ç æ›´åŠ ç¬¦åˆäººä½“å·¥ç¨‹å­¦ï¼Œå¹¶ä¸”æ–°çš„è°ƒåº¦å™¨ä½¿ Tokio 0.2 çš„çº¿ç¨‹æ± å¿«äº† 10 å€ã€‚ç„¶è€Œï¼Œæ›´æ–°ç°æœ‰çš„ Tokio 0.1 å°†æ˜¯ä¸ªéš¾é¢˜ã€‚`Tokio Compat` è¿™ä¸ªåº“å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒæä¾›ä¸ Tokio 0.1 å’Œ Tokio 0.2 æœªæ¥å…¼å®¹çš„è¿è¡Œæ—¶ã€‚

#### ä½¿ç”¨ç¤ºä¾‹

Spawning both `tokio 0.1` and `tokio 0.2` futures:

```rust
use futures_01::future::lazy;

tokio_compat::run(lazy(|| {
    // spawn a `futures` 0.1 future using the `spawn` function from the
    // `tokio` 0.1 crate:
    tokio_01::spawn(lazy(|| {
        println!("hello from tokio 0.1!");
        Ok(())
    }));

    // spawn an `async` block future on the same runtime using `tokio`
    // 0.2's `spawn`:
    tokio_02::spawn(async {
        println!("hello from tokio 0.2!");
    });

    Ok(())
}))
```

æŸ¥çœ‹åŸæ–‡ï¼šhttps://tokio.rs/blog/2019-12-compat/

### Writing BPF code in Rust

å¦‚æœä½ åšç³»ç»Ÿç¼–ç¨‹ï¼Œä½ å¯èƒ½æœ€è¿‘ç»å¸¸å¬è¯´BPFã€‚å®ƒæ˜¯ä¸€ç§æ–°çš„çƒ­é—¨ Linux æŠ€æœ¯ï¼Œå…è®¸åœ¨å†…æ ¸ä¸­è¿è¡Œç”¨æˆ·æä¾›çš„ç¨‹åºã€‚Netflixã€Facebookã€è°·æ­Œã€Cloudflare å’Œå…¶ä»–è®¸å¤šå…¬å¸éƒ½åœ¨ä½¿ç”¨å®ƒæ¥å®ç°å¿«é€Ÿçš„è´Ÿè½½å¹³è¡¡ã€DDoS ç¼“è§£å’Œæ€§èƒ½ç›‘æ§ç­‰åŠŸèƒ½ã€‚

[åŸæ–‡è¯·çœ‹](https://blog.redsift.com/labs/writing-bpf-code-in-rust/)ï¼šhttps://blog.redsift.com/labs/writing-bpf-code-in-rust/

reddit å‚ä¸è®¨è®ºï¼šhttps://www.reddit.com/r/rust/comments/ecspjx/writing_bpf_code_in_rust/

### å£çº¸æ¥ä¸€å‘

![wasm](https://raw.githubusercontent.com/RCTT/rustcc/master/daily/images/rust_holiday.png)

åŸå›¾çœŸçš„ä¸é”™ï¼Œreddit åŸæ–‡ï¼šhttps://www.reddit.com/r/rust/comments/echv8s/my_rust_holiday_wallpaper/

### æ‹›è˜ä¿¡æ¯

![wasm](https://raw.githubusercontent.com/RCTT/rustcc/master/daily/images/wasm.jpeg)

[@NEARProtocol](https://twitter.com/NEARProtocol)  is looking for a WebAssembly & Compiler Engineer

ğŸ‡ºğŸ‡¸ San Francisco / New York
ğŸ‡©ğŸ‡ª Berlin ğŸ‡·ğŸ‡º Moscow
ğŸŒ Remote allowed!

åŸæ–‡é“¾æ¥ï¼šhttps://t.co/iL4s9gAcc8?amp=1


---



From æ—¥æŠ¥å°ç»„ @Jancd

æ—¥æŠ¥è®¢é˜…åœ°å€ï¼š

ç‹¬ç«‹æ—¥æŠ¥è®¢é˜…åœ°å€ï¼š
- [Telgram Channel](https://t.me/rust_daily_news )
- [é˜¿é‡Œäº‘è¯­é›€è®¢é˜…](https://www.yuque.com/chaosbot/rustnews)
- [Steemit](https://steemit.com/@blackanger)
- [GitHub](https://github.com/RustStudy/rust_daily_news)

ç¤¾åŒºå­¦ä¹ äº¤æµå¹³å°è®¢é˜…ï¼š
- [Rust.ccè®ºå›: æ”¯æŒrss](https://rust.cc)
- [Rust Force: æ”¯æŒrss](https://rustforce.net/)
- [å¾®ä¿¡å…¬ä¼—å·ï¼šRustè¯­è¨€å­¦ä¹ äº¤æµ](https://rust.cc/article?id=ed7c9379-d681-47cb-9532-0db97d883f62)
